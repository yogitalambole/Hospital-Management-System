################# MENU SCREEN #############################
<MenuScreen>:
    name: 'menu'
    MDToolbar:
        title: 'Hospital Management System'
        pos_hint: {'top':1}
    MDLabel:
        text: 'Dashboard'
        pos_hint: {'center_x': 0.7, 'center_y': 0.8}
    MDIcon:
        icon: 'database'
        pos_hint: {'center_x': 0.6, 'center_y': 0.8}

    MDIcon:
        pos_hint: {"center_x": 0.49, "center_y": 0.69}
        icon: 'cube'
        Image:
            source: 'patient.jpg'
            center_x: self.parent.center_x
            center_y: self.parent.center_y
            size: (80,80)
    MDFlatButton:
        text: "Patient"
        theme_text_color: "Custom"
        text_color: 1,0,0,1
        line_color: 1,0,0,1
        pos_hint: {"center_x": 0.3, "center_y": 0.7}
        on_press:
            root.manager.transition.direction = 'left'
            root.manager.current = 'patient'

    MDIcon:
        pos_hint: {"center_x": 0.49, "center_y": 0.485}
        icon: 'cube'
        Image:
            source: 'dr.png'
            center_x: self.parent.center_x
            center_y: self.parent.center_y
            size: (60, 60)
    MDFlatButton:
        text: "Doctor"
        theme_text_color: "Custom"
        text_color: 1,0,0,1
        line_color: 1,0,0,1
        pos_hint: {"center_x": 0.3, "center_y": 0.5}
        on_press:
            root.manager.transition.direction = 'left'
            root.manager.current = 'doctor'

    MDIcon:
        pos_hint: {"center_x": 0.51, "center_y": 0.29}
        icon: 'cube'
        Image:
            source: 'ap.jpg'
            center_x: self.parent.center_x
            center_y: self.parent.center_y
            size: (60,60)
    MDFlatButton:
        text: "Appointment"
        theme_text_color: "Custom"
        text_color: 1,0,0,1
        line_color: 1,0,0,1
        pos_hint: {"center_x": 0.3, "center_y": 0.3}
        on_press:
            root.manager.transition.direction = 'left'
            root.manager.current = 'appointment'
##############################################################################
<PatientScreen>:
    name: 'patient'
    id: data_p
    MDToolbar:
        title: 'Hospital Management System'
        pos_hint: {'top':1}
    MDFloatingActionButton:
        icon: 'arrow-left'
        pos_hint: {'center_x':0.15, 'center_y':0.08}
        on_press:
            root.manager.transition.direction = 'right'
            root.manager.current= 'menu'
    MDLabel:
        text: 'Patients'
        pos_hint: {'center_x':0.6, 'center_y':0.8}
    MDIcon:
        pos_hint: {'center_x': 0.54, 'center_y': 0.8}
        icon: 'book'
    MDFillRoundFlatIconButton:
        icon: 'book-plus'
        text: 'Add Patient'
        pos_hint: {"center_x": 0.82, "center_y": 0.78}
        font_size: "9sp"
        on_release:
            root.manager.transition.direction = 'left'
            root.manager.current= 'add patient'
    MDRoundFlatButton:
        text:'View Lab Report'
        pos_hint: {"center_x": 0.5, "center_y": 0.85}
        font_size: "9sp"
        on_release:
            root.manager.transition.direction = 'left'
            root.manager.current = 'lab_report'
    MDRoundFlatButton:
        text:'View Patient Prescription'
        pos_hint: {"center_x": 0.5, "center_y": 0.78}
        font_size: "9sp"
        on_release:
            root.manager.transition.direction = 'left'
            root.manager.current = "prescription"

    FloatLayout:
        GridLayout:
            cols: 1
            id: patient_table
            pos_hint: {"top": .895, "left": 1}
            size_hint: 1, .795
            GridLayout:
                rows: 1
                size_hint: 1, .1
                pos_hint: {"top": .1, "right": 1}

    MDIconButton:
        id: 'dlt_btn_pnt'
        icon: 'delete'
        pos_hint: {'center_x':0.85, 'center_y':0.08}
        on_press: root.dlt_row()


#############################################################################
<AddPatientScreen>:
    id: ap
    name: 'add patient'
    MDToolbar:
        title: 'Hospital Management System'
        pos_hint: {'top':1}
    MDFloatingActionButton:
        icon: 'arrow-left'
        pos_hint: {'center_x':0.15, 'center_y':0.08}
        on_press:
            root.manager.transition.direction = 'right'
            root.manager.current= 'patient'
    MDLabel:
        text: 'Add Patient'
        pos_hint: {'center_x':0.6, 'center_y':0.85}
    MDIcon:
        pos_hint: {'center_x': 0.54, 'center_y': 0.85}
        icon: 'paperclip'
    MDLabel:
        text: 'First Name:'
        pos_hint: {'center_x':0.58, 'center_y':0.75}
    MDTextField:
        id: firstname
        size_hint: (0.4,0.09)
        pos_hint: {"center_x": 0.55, "center_y": 0.75}
        hint_text: 'Enter First Name'
    MDLabel:
        text: 'Last Name:'
        pos_hint: {'center_x':0.58, 'center_y':0.67}
    MDTextField:
        id: lastname
        size_hint: (0.4,0.09)
        pos_hint: {"center_x": 0.55, "center_y": 0.67}
        hint_text: 'Enter Last Name'
    MDLabel:
        text: 'Address:'
        pos_hint: {'center_x':0.58, 'center_y':0.59}
    MDTextField:
        id: address
        size_hint: (0.4,0.09)
        pos_hint: {"center_x": 0.55, "center_y": 0.59}
        hint_text: 'Enter Address'
    MDLabel:
        text: 'Mobile NO.:'
        pos_hint: {'center_x':0.58, 'center_y':0.51}
    MDTextField:
        id: mobile
        size_hint: (0.4,0.09)
        pos_hint: {"center_x": 0.55, "center_y": 0.51}
        hint_text: 'Enter Mobile No.'
    MDLabel:
        text: 'Prescription:'
        pos_hint: {'center_x':0.58, 'center_y':0.4}
    MDLabel:
        text: 'Lab Report:'
        pos_hint: {'center_x':0.58, 'center_y':0.3}

    MDFlatButton:
        text: 'Upload File'
        pos_hint: {'center_x':0.51, 'center_y':0.4}
        line_color: 1,0,0,1
        on_release: app.file_chooser1()
    Image:
        id: selected_pre
        size_hint: (0.05,0.05)
        pos_hint: {'center_x':0.80, 'center_y':0.4}

    MDFlatButton:
        text: 'Upload File'
        pos_hint: {'center_x':0.51, 'center_y':0.3}
        line_color: 1,0,0,1
        on_release: app.file_chooser2()

    Image:
        id: selected_lab
        size_hint: (0.05,0.05)
        pos_hint: {'center_x':0.80, 'center_y':0.3}

    MDFloatingActionButton:
        icon: 'store'
        pos_hint: {'center_x':0.85, 'center_y':0.08}
        on_release:
            root.add_patient()
            root.save_pre_lab()
            # root.manager.current: 'patient'
            # root.manager.transition.direction: 'right'



######################################################################################
<DoctorScreen>:
    name: 'doctor'
    MDToolbar:
        title: 'Hospital Management System'
        pos_hint: {'top':1}
    MDFloatingActionButton:
        icon: 'arrow-left'
        pos_hint: {'center_x':0.15, 'center_y':0.08}
        on_press:
            root.manager.transition.direction = 'right'
            root.manager.current= 'menu'
    MDLabel:
        text: 'Doctors'
        pos_hint: {'center_x':0.6, 'center_y':0.8}
    MDIcon:
        pos_hint: {'center_x': 0.54, 'center_y': 0.8}
        icon: 'book'
    MDRoundFlatButton:
        text:'Add Doctor'
        pos_hint: {"center_x": 0.8, "center_y": 0.80}
        font_size: "11sp"
        line_color: 1,0,0,1
        on_press:
            root.manager.transition.direction = 'left'
            root.manager.current= 'add doctor'
    MDIconButton:
        id: 'dlt_btn_pnt'
        icon: 'delete'
        pos_hint: {'center_x':0.85, 'center_y':0.08}
        on_press: root.dlt_row()


#####################################################################################
<AddDoctorScreen>:
    name: 'add doctor'
    MDToolbar:
        title: 'Hospital Management System'
        pos_hint: {'top':1}
    MDFloatingActionButton:
        icon: 'arrow-left'
        pos_hint: {'center_x':0.15, 'center_y':0.08}
        on_press:
            root.manager.transition.direction = 'right'
            root.manager.current= 'doctor'
    MDFloatingActionButton:
        icon: 'store'
        pos_hint: {'center_x':0.85, 'center_y':0.08}
        on_release: app.add_doctor()
    MDLabel:
        text: 'Add Doctor'
        pos_hint: {'center_x':0.6, 'center_y':0.85}
    MDIcon:
        pos_hint: {'center_x': 0.54, 'center_y': 0.85}
        icon: 'paperclip'
    MDLabel:
        text: 'First Name:'
        pos_hint: {'center_x':0.58, 'center_y':0.75}
    MDTextField:
        id: firstname
        size_hint: (0.4,0.09)
        pos_hint: {"center_x": 0.55, "center_y": 0.75}
        hint_text: 'Enter First Name'
    MDLabel:
        text: 'Last Name:'
        pos_hint: {'center_x':0.58, 'center_y':0.67}
    MDTextField:
        id: lastname
        size_hint: (0.4,0.09)
        pos_hint: {"center_x": 0.55, "center_y": 0.67}
        hint_text: 'Enter Last Name'
    MDLabel:
        text: 'Address:'
        pos_hint: {'center_x':0.58, 'center_y':0.59}
    MDTextField:
        id: address
        size_hint: (0.4,0.09)
        pos_hint: {"center_x": 0.55, "center_y": 0.59}
        hint_text: 'Enter Address'
    MDLabel:
        text: 'Mobile NO.:'
        pos_hint: {'center_x':0.58, 'center_y':0.51}
    MDTextField:
        id: mobile
        size_hint: (0.4,0.09)
        pos_hint: {"center_x": 0.55, "center_y": 0.51}
        hint_text: 'Enter Mobile No.'
######################################################################################
<AppointmentScreen>:
    name: 'appointment'
    MDToolbar:
        title: 'Hospital Management System'
        pos_hint: {'top':1}
    MDFloatingActionButton:
        icon: 'arrow-left'
        pos_hint: {'center_x':0.15, 'center_y':0.08}
        on_press:
            root.manager.transition.direction = 'right'
            root.manager.current= 'menu'
    MDLabel:
        text: 'Appointments'
        pos_hint: {'center_x':0.6, 'center_y':0.8}
    MDIcon:
        pos_hint: {'center_x': 0.54, 'center_y': 0.8}
        icon: 'book'
    MDRoundFlatButton:
        text:'Add Appointment'
        pos_hint: {"center_x": 0.8, "center_y": 0.80}
        font_size: "11sp"
        line_color: 1,0,0,1
        on_press:
            root.manager.transition.direction = 'left'
            root.manager.current= 'add appointment'
    MDIconButton:
        id: 'dlt_btn_pnt'
        icon: 'delete'
        pos_hint: {'center_x':0.85, 'center_y':0.08}
        on_press: root.dlt_row()

######################################################################################
<AddAppointmentScreen>:
    name: 'add appointment'
    MDToolbar:
        title: 'Hospital Management System'
        pos_hint: {'top':1}
    MDLabel:
        text: 'Add Appointment'
        pos_hint: {'center_x':0.6, 'center_y':0.85}
    MDIcon:
        pos_hint: {'center_x': 0.54, 'center_y': 0.85}
        icon: 'paperclip'
    MDFloatingActionButton:
        icon: 'arrow-left'
        pos_hint: {'center_x':0.15, 'center_y':0.08}
        on_press:
            root.manager.transition.direction = 'right'
            root.manager.current= 'appointment'
    MDFloatingActionButton:
        icon: 'store'
        pos_hint: {'center_x':0.85, 'center_y':0.08}
        on_release: app.add_appointment()
    MDLabel:
        text: 'First Name of Patient:'
        pos_hint: {'center_x':0.56, 'center_y':0.75}
    MDTextField:
        id: first_name
        size_hint: (0.4,0.09)
        pos_hint: {"center_x": 0.68, "center_y": 0.75}
        hint_text: 'Enter First Name'
    MDLabel:
        text: 'Last Name of Patient:'
        pos_hint: {'center_x':0.56, 'center_y':0.67}
    MDTextField:
        id: last_name
        size_hint: (0.4,0.09)
        pos_hint: {"center_x": 0.68, "center_y": 0.67}
        hint_text: 'Enter Last Name'
    MDLabel:
        text: 'Mobile NO.:'
        pos_hint: {'center_x':0.56, 'center_y':0.59}
    MDTextField:
        id: mobile
        size_hint: (0.4,0.09)
        pos_hint: {"center_x": 0.68, "center_y": 0.59}
        hint_text: 'Enter Mobile No.'
    MDFloatLayout:
        MDRaisedButton:
            text: 'Select Date'
            pos_hint: {'center_x':0.22, 'center_y':0.50}
            on_release: app.show_date_picker()
        MDLabel:
            id: date_label
            text: ' '
            pos_hint: {"center_x": 0.95, "center_y": 0.50}
        MDRaisedButton:
            text: 'Select Time'
            pos_hint: {'center_x':0.22, 'center_y':0.41}
            on_release: app.show_time_picker()
        MDLabel:
            id: time_label
            text: ' '
            pos_hint: {"center_x": 0.95, "center_y": 0.41}


######################################################################################
<lab_report>:
    name: 'lab_report'
    MDToolbar:
        title: 'Hospital Management System'
        pos_hint: {'top':1}
    MDFloatingActionButton:
        icon: 'arrow-left'
        pos_hint: {'center_x':0.15, 'center_y':0.08}
        on_press:
            root.manager.transition.direction = 'right'
            root.manager.current= 'patient'
    MDLabel:
        text: 'Patient First Name:'
        pos_hint: {'center_x':0.6, 'center_y':0.75}
    MDTextField:
        id: firstname
        size_hint: (0.4,0.09)
        pos_hint: {"center_x": 0.67, "center_y": 0.75}
        hint_text: 'Enter First Name'
    MDLabel:
        text: 'Patient Last Name:'
        pos_hint: {'center_x':0.6, 'center_y':0.67}
    MDTextField:
        id: lastname
        size_hint: (0.4,0.09)
        pos_hint: {"center_x": 0.67, "center_y": 0.67}
        hint_text: 'Enter Last Name'

    MDFillRoundFlatButton:
        text:'View Lab Report'
        pos_hint: {"center_x": 0.50, "center_y": 0.57}
        font_size: "12sp"
        on_release:
            app.view_lab()
            root.manager.transition.direction = 'left'
            root.manager.current = "display_lab"


#############################################################################################################################

<displaylab>:
    name: 'display_lab'
    Image:
        id: pre_img
        size_hint: (0.35, 0.5)
        pos_hint: {'center_x':0.5, 'center_y':0.5}

    MDFloatingActionButton:
        icon: 'arrow-left'
        pos_hint: {'center_x':0.15, 'center_y':0.08}
        on_press:
            root.manager.transition.direction = 'right'
            root.manager.current= 'lab_report'

######################################################################################
<prescription>:
    name: 'prescription'
    MDToolbar:
        title: 'Hospital Management System'
        pos_hint: {'top':1}
    MDFloatingActionButton:
        icon: 'arrow-left'
        pos_hint: {'center_x':0.15, 'center_y':0.08}
        on_press:
            root.manager.transition.direction = 'right'
            root.manager.current= 'patient'
    MDLabel:
        text: 'Patient First Name:'
        pos_hint: {'center_x':0.6, 'center_y':0.75}
    MDTextField:
        id: firstname
        size_hint: (0.4,0.09)
        pos_hint: {"center_x": 0.67, "center_y": 0.75}
        hint_text: 'Enter First Name'
    MDLabel:
        text: 'Patient Last Name:'
        pos_hint: {'center_x':0.6, 'center_y':0.67}
    MDTextField:
        id: lastname
        size_hint: (0.4,0.09)
        pos_hint: {"center_x": 0.67, "center_y": 0.67}
        hint_text: 'Enter Last Name'

    MDFillRoundFlatButton:
        text:'View Prescription'
        pos_hint: {"center_x": 0.50, "center_y": 0.57}
        font_size: "12sp"
        on_release:
            root.manager.transition.direction = 'left'
            root.manager.current = "display_pre"

#############################################################################################################################

<displaypre>:
    name: 'display_pre'
    Image:
        id: pre_img
        size_hint: (0.35, 0.5)
        pos_hint: {'center_x':0.5, 'center_y':0.5}

    MDFloatingActionButton:
        icon: 'arrow-left'
        pos_hint: {'center_x':0.15, 'center_y':0.08}
        on_press:
            root.manager.transition.direction = 'right'
            root.manager.current= 'prescription'


